import { useEffect, useState } from 'react';
import Head from 'next/head';
import Link from 'next/link';
import { useRouter } from 'next/router';
import Header from '../components/Header';
import Footer from '../components/Footer';
import styles from '../styles/OrderConfirmation.module.css';

export default function OrderConfirmation() {
  const router = useRouter();
  const [orderNumber, setOrderNumber] = useState('');

  useEffect(() => {
    // Generate a random order number
    const randomOrderNumber = 'KL' + Math.random().toString(36).substr(2, 9).toUpperCase();
    setOrderNumber(randomOrderNumber);
  }, []);

  return (
    <>
      <Head>
        <title>Commande confirm√©e - Kamba Lhains</title>
        <meta name="description" content="Votre commande Kamba Lhains a √©t√© confirm√©e" />
        <meta name="robots" content="noindex, nofollow" />
      </Head>

      <Header />

      <main className={styles.confirmationPage}>
        <div className={styles.confirmationContainer}>
          <div className={styles.confirmationCard}>
            <div className={styles.successIcon}>‚úì</div>
            
            <h1 className={styles.confirmationTitle}>
              Commande confirm√©e
            </h1>
            
            <p className={styles.confirmationMessage}>
              Merci pour votre commande ! Vous recevrez un email de confirmation dans quelques minutes.
            </p>

            <div className={styles.orderDetails}>
              <div className={styles.orderNumber}>
                <span className={styles.orderLabel}>Num√©ro de commande :</span>
                <span className={styles.orderValue}>{orderNumber}</span>
              </div>
            </div>

            <div className={styles.nextSteps}>
              <h2 className={styles.nextStepsTitle}>Prochaines √©tapes</h2>
              <div className={styles.stepsList}>
                <div className={styles.step}>
                  <div className={styles.stepIcon}>üìß</div>
                  <div className={styles.stepContent}>
                    <h3>Email de confirmation</h3>
                    <p>Vous recevrez un email avec les d√©tails de votre commande</p>
                  </div>
                </div>
                
                <div className={styles.step}>
                  <div className={styles.stepIcon}>üì¶</div>
                  <div className={styles.stepContent}>
                    <h3>Pr√©paration</h3>
                    <p>Votre commande sera pr√©par√©e dans nos ateliers sous 2-3 jours ouvr√©s</p>
                  </div>
                </div>
                
                <div className={styles.step}>
                  <div className={styles.stepIcon}>üöö</div>
                  <div className={styles.stepContent}>
                    <h3>Exp√©dition</h3>
                    <p>Livraison sous 5-7 jours ouvr√©s avec suivi de colis</p>
                  </div>
                </div>
              </div>
            </div>

            <div className={styles.supportInfo}>
              <h3 className={styles.supportTitle}>Besoin d'aide ?</h3>
              <p className={styles.supportText}>
                Notre √©quipe de service client est disponible du lundi au vendredi de 9h √† 18h.
              </p>
              <div className={styles.supportContacts}>
                <a href="mailto:contact@kambalahins.com" className={styles.supportLink}>
                  contact@kambalahins.com
                </a>
                <a href="tel:+33123456789" className={styles.supportLink}>
                  +33 1 23 45 67 89
                </a>
              </div>
            </div>

            <div className={styles.actions}>
              <Link href="/" className={styles.continueButton}>
                Continuer mes achats
              </Link>
              
              <button 
                onClick={() => window.print()} 
                className={styles.printButton}
              >
                Imprimer cette page
              </button>
            </div>

            <div className={styles.socialShare}>
              <p className={styles.shareText}>Partagez votre style KAMBA LHAINS</p>
              <div className={styles.socialButtons}>
                <a 
                  href="https://www.instagram.com/kambalahins" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  className={styles.socialButton}
                >
                  Instagram
                </a>
                <a 
                  href="https://www.facebook.com/kambalahins" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  className={styles.socialButton}
                >
                  Facebook
                </a>
              </div>
              <p className={styles.hashtag}>#KAMBALAHINS</p>
            </div>
          </div>
        </div>
      </main>

      <Footer />
    </>
  );
}